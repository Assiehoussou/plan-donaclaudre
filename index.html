<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Plan Interactif - La Donaclaudr√©</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
    }
    #plan-container {
      position: relative;
      max-width: 1000px;
      margin: auto;
    }
    #plan-image {
      width: 100%;
      display: block;
    }
    .zone {
      position: absolute;
      border: 1px dashed #f08080;
      background-color: rgba(255, 192, 203, 0.3);
      cursor: pointer;
      z-index: 2;
    }
    .initiales {
      position: relative;
      color: #000;
      background: rgba(255, 255, 255, 0.4);
      padding: 1px 4px;
      font-size: 10px;
      border-radius: 4px;
      margin: 2px;
      display: inline-block;
    }
    .zone-content {
      position: absolute;
      display: flex;
      flex-wrap: wrap;
      gap: 2px;
      z-index: 3;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <h2 style="text-align:center">Plan interactif - Cliquez sur une pi√®ce pour y inscrire vos initiales</h2>
  <div style="text-align: center; margin: 10px;">
    <button onclick="demanderMotDePasse()">üîÑ R√©initialiser toutes les inscriptions</button>
  </div>

  <div id="plan-container">
    <img id="plan-image" src="plan-image.jpg" alt="Plan du site">

    <!-- Zones interactives : uniquement les chambres -->
    <div class="zone" data-name="Chambre 1" style="top: 350px; left: 55px; width: 185px; height: 160px;"></div>
    <div class="zone" data-name="Chambre 2" style="top: 350px; left: 310px; width: 130px; height: 160px;"></div>
    <div class="zone" data-name="Chambre 3" style="top: 530px; left: 55px; width: 155px; height: 160px;"></div>
    <div class="zone" data-name="Chambre 4" style="top: 530px; left: 310px; width: 130px; height: 160px;"></div>
    <div class="zone" data-name="Chambre 5" style="top: 560px; left: 220px; width: 77px; height: 135px;"></div>
    <div class="zone" data-name="Chambre 6" style="top: 135px; left: 605px; width: 130px; height: 176px;"></div>
    <div class="zone" data-name="Chambre 8" style="top: 350px; left: 457px; width: 97px; height: 160px;"></div>
    <div class="zone" data-name="Chambre 9" style="top: 350px; left: 605px; width: 130px; height: 160px;"></div>
    <div class="zone" data-name="Chambre 10" style="top: 570px; left: 457px; width: 97px; height: 120px;"></div>
    <div class="zone" data-name="Chambre 11" style="top: 600px; left: 565px; width: 60px; height: 90px;"></div>
    <div class="zone" data-name="Chambre 12" style="top: 530px; left: 640px; width: 90px; height: 160px;"></div>
    <div class="zone" data-name="Chambre 13" style="top: 795px; left: 675px; width: 106px; height: 100px;"></div>
  </div>

  <script>
    window.onload = function () {
      const sauvegarde = JSON.parse(localStorage.getItem("initialesParZone") || '{}');

      document.querySelectorAll('.zone').forEach(zone => {
        const name = zone.getAttribute('data-name');

        const contentBox = document.createElement('div');
        contentBox.className = 'zone-content';
        contentBox.style.top = zone.style.top;
        contentBox.style.left = zone.style.left;
        contentBox.style.width = zone.style.width;
        contentBox.style.height = zone.style.height;

        const initialsList = sauvegarde[name] || [];
        initialsList.forEach(init => {
          const label = document.createElement('div');
          label.className = 'initiales';
          label.innerText = init;
          contentBox.appendChild(label);
        });

        document.getElementById('plan-container').appendChild(contentBox);

        zone.addEventListener('click', () => {
          const initials = prompt(`Entrez vos initiales pour la zone : ${name}`);
          if (initials) {
            const label = document.createElement('div');
            label.className = 'initiales';
            label.innerText = initials;
            contentBox.appendChild(label);

            if (!sauvegarde[name]) sauvegarde[name] = [];
            sauvegarde[name].push(initials);
            localStorage.setItem("initialesParZone", JSON.stringify(sauvegarde));
          }
        });
      });
    };
  </script>
  <script>
    function demanderMotDePasse() {
      const motDePasseCorrect = "admin123";
      const saisie = prompt("Entrez le mot de passe pour r√©initialiser les inscriptions :");
      if (saisie === motDePasseCorrect) {
        localStorage.clear();
        location.reload();
      } else {
        alert("Mot de passe incorrect. R√©initialisation annul√©e.");
      }
    }
  </script>
</body>
</html>
